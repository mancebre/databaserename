Code is crap but it's serves a purpose